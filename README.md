
<h1 align="center">YPEC Bot</h1>

<a href="https://git.io/typing-svg"><img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&pause=1000&width=435&lines=Telegram+bot+%D0%BA%D0%BE%D0%BB%D0%BB%D0%B5%D0%B4%D0%B6%D0%B0+%D0%AF%D0%9F%D0%AD%D0%9A" alt="Typing SVG" /></a>

<p align="center">
  <img src="https://img.shields.io/github/stars/nik20z/hltv_bot">
  <img src="https://img.shields.io/github/issues/nik20z/hltv_bot">
  <img src="https://img.shields.io/github/license/nik20z/hltv_bot">
</p>

[![https://telegram.me/ypec_bot](https://img.shields.io/badge/üí¨%20Telegram-Channel-blue.svg?style=flat-square)](https://telegram.me/ypec_bot)

![Telegram](https://img.shields.io/badge/Telegram-2CA5E0?style=for-the-badge&logo=telegram&logoColor=white)
![Postgres](https://img.shields.io/badge/postgres-%23316192.svg?style=for-the-badge&logo=postgresql&logoColor=white)
![Ubuntu](https://img.shields.io/badge/Ubuntu-E95420?style=for-the-badge&logo=ubuntu&logoColor=white)

## –û–ø–∏—Å–∞–Ω–∏–µ
–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –≥–æ—Ç–æ–≤–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å –∑–∞–º–µ–Ω–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å), –∞ —Ç–∞–∫–∂–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∑–∞–º–µ–Ω–∞—Ö –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ë—É–¥—É—â–∏–µ –∞–ø–¥–µ–π—Ç—ã

- [ ] –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å–æ–∫ –¥–æ 10 –Ω–∞ –∫–∞–∂–¥—ã–π –ø—Ä–æ—Ñ–∏–ª—å
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- [ ] –ù–∞–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞ –ª–æ–≥–æ–≤ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Å–æ–±–∏—Ä–∞—é—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω—Ç–∏-—Å–ø–∞–º —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∞–º–µ—Ä–æ–≤
- [ ] –£–ª—É—á—à–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∑–≤–∞–Ω–∏–π –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (–ø–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –∏ –∏—Ö –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ)
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å vk (–ø–æ–∫–∞ –Ω–∞ –ø—Ä–æ—Å—Ç–æ–º —É—Ä–æ–≤–Ω–µ, –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—é—â–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤ telegram). –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å vk –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Ç–æ –∂–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ —Ä–∞—Å—Å—ã–ª–∫–µ, —á—Ç–æ –∏ –≤ telegram 


## –ü–æ—Ä—è–¥–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ VPS

```
sudo adduser ypec

sudo apt update
sudo apt upgrade
sudo apt install python3.8
sudo apt install python3-pip

sudo apt update
sudo apt install postgresql postgresql-contrib
```

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ª–æ–∫–∞–ª—å —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç, –≤—ã–±–∏—Ä–∞—è ru_RU.utf8:
```
dpkg-reconfigure locales
apt-get install language-pack-ru
```

–ò–∑–º–µ–Ω—è–µ–º –ª–æ–∫–∞–ª—å –∫–ª–∞—Å—Ç–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```
pg_lsclusters
pg_dropcluster --stop 12 main
pg_createcluster --locale ru_RU.utf8 --start 12 main
```

–°–æ–∑–¥–∞—ë–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–∑–¥–∞—ë–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –¥–æ–±–∞–≤–ª—è–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ pg_trgm
```
sudo -i -u postgres
  psql
    CREATE USER ypec WITH PASSWORD '123456789';
    CREATE DATABASE ypec_bot;
    \c ypec_bot
    CREATE EXTENSION pg_trgm;
    \q
  exit
```

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
```
pip3 install aiohttp
pip3 install aiogram
pip3 install beautifulsoup4
pip3 install loguru
pip3 install lxml
pip3 install nest-asyncio
pip3 install psycopg2-binary
pip3 install requests
pip3 install transliterate
```

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
```
cd /home/ypec
# pip3 install -r requirements.txt
```

–ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```
git clone https://github.com/nik20z/ypec_bot.git
```

–í–Ω–æ—Å–∏–º –ø—Ä–∞–≤–∫–∏ –≤ —Ñ–∞–π–ª /bot/misc/env.py
1. TOKEN –±–æ—Ç–∞


–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–ª—É–∂–±—ã, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é—â–µ–π —Å–∫—Ä–∏–ø—Ç, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤ –ø–∞–ø–∫—É /etc/systemd/system –ø–æ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª ypec_bot.service
```
apt-get install systemd
systemctl daemon-reload
systemctl enable ypec_bot
systemctl start ypec_bot
systemctl status ypec_bot

```

–ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å
```
timedatectl
timedatectl list-timezones
sudo timedatectl set-timezone Europe/Moscow
```

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π python
```
sudo apt-get install libpq-dev
sudo apt-get install python-dev
```


<p align="center">
  <img src="https://user-images.githubusercontent.com/62090150/193757014-4e816ff4-e524-4d3d-a0f9-5d64701e9ec0.png">
</p>

